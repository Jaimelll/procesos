<!-- templates/registration/login.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}
    Iniciar Sesión
{% endblock %}

{% block content %}
<div class="container-fluid vh-100 d-flex p-0">
    <!-- Columna de imagen a la izquierda (75%) -->
    <div class="d-none d-md-block col-md-9 vh-100 position-relative">
        <img src="{% static 'images/ACFFAA.jpg' %}" alt="ACFFAA" class="position-absolute w-100 h-100 object-fit-cover">
    </div>
    
    <!-- Columna de formulario a la derecha (25%) -->
    <div class="col-12 col-md-3 d-flex align-items-center justify-content-center">
        <div class="w-100 p-3" style="max-width: 300px;">
            <!-- Logo ACFFAA -->
            <div class="text-center mb-4">
                <img src="{% static 'images/logo_acffaa.png' %}" alt="Logo ACFFAA" class="img-fluid" style="max-width: 150px;">
            </div>
            
            <!-- Título del formulario -->
            <h5 class="text-center mb-3 text-secondary">Iniciar Sesión</h5>
            
            <!-- Formulario de inicio de sesión -->
            <form method="post" class="needs-validation" novalidate>
                {% csrf_token %}
                <!-- Mostrar errores de formulario si existen -->
                {% if form.errors %}
                    <div class="alert alert-danger" role="alert">
                        Usuario o contraseña incorrectos. Por favor, inténtelo de nuevo.
                    </div>
                {% endif %}
                <div class="mb-2">
                    <input type="text" name="username" class="form-control form-control-sm" placeholder="Usuario" required>
                    <div class="invalid-feedback">
                        Por favor, ingrese su nombre de usuario.
                    </div>
                </div>
                <div class="mb-2">
                    <input type="password" name="password" class="form-control form-control-sm" placeholder="Contraseña" required>
                    <div class="invalid-feedback">
                        Por favor, ingrese su contraseña.
                    </div>
                </div>
                <button type="submit" class="btn btn-primary btn-sm w-100">Iniciar Sesión</button>
            </form>
            
            <!-- Versión del sistema -->
            <div class="mt-3 text-center">
                <p class="text-muted" style="font-size: 0.8rem;">Versión del sistema: 1.0.3</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .object-fit-cover {
        object-fit: cover;
    }

    @media (max-width: 767.98px) {
        .col-12 {
            flex: 0 0 100%;
            max-width: 100%;
        }
    }
</style>
{% endblock %}
